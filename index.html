<script>
  document.addEventListener('DOMContentLoaded', function () {
    document.getElementById('calcForm').addEventListener('submit', function(e) {
      e.preventDefault();

      const high3 = parseFloat(document.getElementById('high3').value);
      const years = parseFloat(document.getElementById('years').value);
      const vaComp = parseFloat(document.getElementById('vaComp').value);
      const tsp = parseFloat(document.getElementById('tsp').value);
      const withdrawRate = parseFloat(document.getElementById('withdrawRate').value) / 100;
      const fersSupp = document.getElementById('fersSupp').value;

      const pension = high3 * years * 0.011;
      const tspMonthly = (tsp * withdrawRate) / 12;
      const supplement = fersSupp === 'yes' ? 1300 : 0;

      const totalMonthly = (pension / 12) + tspMonthly + vaComp + supplement;

      document.getElementById('result').innerHTML = `
        <h3>Estimated Monthly Retirement Income:</h3>
        <ul>
          <li><strong>FERS Pension:</strong> $${(pension / 12).toFixed(2)}</li>
          <li><strong>TSP Withdrawal:</strong> $${tspMonthly.toFixed(2)}</li>
          <li><strong>VA Disability:</strong> $${vaComp.toFixed(2)}</li>
          <li><strong>FERS Supplement:</strong> $${supplement.toFixed(2)}</li>
          <li><strong><em>Total Estimate:</em></strong> <strong>$${totalMonthly.toFixed(2)}</strong></li>
        </ul>
      `;
    });
  });
</script>
